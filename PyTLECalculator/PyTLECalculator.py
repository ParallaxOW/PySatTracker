import ephem;
import datetime;
import time;


def dms2dd(dms):
     arDMS = dms.split(':');
     dd = float(arDMS[0]) + (float(arDMS[1])/60 + float(arDMS[2])/3600);
     return dd;

def tleSelector(sat, var):
    if(sat == "ISS"):
        var[0] = (True);
        var[1] = ("ISS (ZARYA)");
        var[2] = ( "1 25544U 98067A   19044.57950413  .00000392  00000-0  13550-4 0  9994");
        var[3] = ("2 25544  51.6402 255.8985 0005529  23.5212  16.1391 15.53255179156059");
    elif(sat == "AO-07"):
        var[0] = (True);
        var[1] = ( "AO-07");
        var[2] = ( "1  7530U 74089B   19044.50766087 -.00000016  00000-0  18028-3 0  9990");
        var[3] = ( "2  7530 101.7268  13.5402 0011858 228.3005 244.8824 12.53636718 24831");
    elif(sat == "AO-07"):
        var[0] = (True);
        var[1] = ("FO-29");
        var[2] = ( "1 24278U 96046B   19043.91854765 -.00000018 +00000-0 +17975-4 0  9993");
        var[3] = ( "2 24278 098.5176 214.5069 0349963 206.1147 152.1969 13.53088901110545");
    elif(sat == "SO-50"):
        var[0] = (True);
        var[1] = ( "SO-50");
        var[2] = ( "1 27607U 02058C   19043.55194291 -.00000028  00000-0  16928-4 0  9991");
        var[3] = ( "2 27607  64.5544  75.2448 0081917 280.4714  78.7165 14.75519262868428");
    elif(sat == "SO-50"):
        var[0] = (True);
        var[1] = ( "CO-55");
        var[2] = ( "1 27844U 03031E   19044.49178072  .00000043  00000-0  39039-4 0  9993");
        var[3] = ( "2 27844  98.6865  54.5628 0010438  38.7784 321.4141 14.22159701810492");
    elif(sat == "RS-22"):
        var[0] = (True);
        var[1] = ( "RS-22");
        var[2] = ( "1 27939U 03042A   19044.39066557  .00000094  00000-0  25344-4 0  9993");
        var[3] = ( "2 27939  98.0191 182.8029 0014288 103.4299 256.8497 14.66753093822176");
    elif(sat == "CO-58"):
        var[0] = (True);
        var[1] = ( "CO-58");
        var[2] = ( "1 28895U 05043F   19043.85655054  .00000103  00000-0  28544-4 0  9990");
        var[3] = ( "2 28895  97.9378 191.0518 0017378  33.2567 326.9724 14.63629746709089");
    elif(sat == "CO-65"):
        var[0] = (True);
        var[1] = ( "CO-65");
        var[2] = ( "1 32785U 08021C   19044.16093232  .00000186  00000-0  25723-4 0  9998");
        var[3] = ( "2 32785  97.5478  49.8159 0012160 324.9450  35.0966 14.88248688585015");
    elif(sat == "COMPASS 1"):
        var[0] = (True);
        var[1] = ( "COMPASS 1");
        var[2] = ( "1 32787U 08021E   19044.10356827  .00000270  00000-0  30932-4 0  9998");
        var[3] = ( "2 32787  97.5137  61.6296 0010915 273.5651  86.4321 14.93250641585902");
    elif(sat == "DO-64"):
        var[0] = (True);
        var[1] = ( "DO-64");
        var[2] = ( "1 32789U 08021G   19044.37315708  .00001016  00000-0  72485-4 0  9990");
        var[3] = ( "2 32789  97.4819  97.7296 0012253 187.2488 172.8564 15.06646646588097");
    elif(sat == "RS-30"):
        var[0] = (True);
        var[1] = ( "RS-30");
        var[2] = ( "1 32953U 08025A   19044.49195672  .00000020  00000-0  75656-4 0  9993");
        var[3] = ( "2 32953  82.4996 222.6011 0019652  44.5183 315.7471 12.43087490486750");
    elif(sat == "KKS-1"):
        var[0] = (True);
        var[1] = ( "KKS-1");
        var[2] = ( "1 33499U 09002H   19044.55097444  .00000078  00000-0  19534-4 0  9996");
        var[3] = ( "2 33499  98.3543 239.2091 0008106 241.4620 118.5773 14.75405934540779");
    elif(sat == "AO-71"):
        var[0] = (True);
        var[1] = ( "AO-71");
        var[2] = ( "1 37854U 11061E   19043.81723909  .00000958  00000-0  56877-4 0  9991");
        var[3] = ( "2 37854 101.7146 237.2899 0161675  79.5841 282.3547 15.06130953398047");
    elif(sat == "AO-73"):
        var[0] = (True);
        var[1] = ( "AO-73");
        var[2] = ( "1 39444U 13066AE  19044.04602612  .00000246  00000-0  36440-4 0  9992");
        var[3] = ( "2 39444  97.5694  66.3766 0059601  80.7047 280.0900 14.81859178281324");
    elif(sat == "UKUBE 1"):
        var[0] = (True);
        var[1] = ( "UKUBE 1");
        var[2] = ( "1 40074U 14037F   19044.48808081  .00000243  00000-0  36405-4 0  9996");
        var[3] = ( "2 40074  98.4150 199.4617 0003533 257.7702 102.3110 14.83965545249086");
    elif(sat == "XW-2A"):
        var[0] = (True);
        var[1] = ( "XW-2A");
        var[2] = ( "1 40903U 15049E   19044.44037088  .00001603  00000-0  40416-4 0  9996");
        var[3] = ( "2 40903  97.3555  86.4064 0012108 235.2614 232.8140 15.41356172190954");
    elif(sat == "XW-2C"):
        var[0] = (True);
        var[1] = ( "XW-2C");
        var[2] = ( "1 40906U 15049H   19044.43086318  .00000465  00000-0  28008-4 0  9996");
        var[3] = ( "2 40906  97.4659  48.6159 0013303 275.7221 221.5812 15.15503378188028");
    elif(sat == "XW-2D"):
        var[0] = (True);
        var[1] = ( "XW-2D");
        var[2] = ( "1 40907U 15049J   19044.41770655  .00000621  00000-0  36088-4 0  9990");
        var[3] = ( "2 40907  97.4631  48.2806 0012589 272.8313 193.2879 15.15678869188036");
    elif(sat == "XW-2F"):
        va[0] = (True);
        va[1] = ( "XW-2F");
        va[2] = ( "1 40910U 15049M   19044.29990162  .00000792  00000-0  43379-4 0  9997");
        va[3] = ( "2 40910  97.4614  49.9183 0013281 267.0312 218.8078 15.17024154188008");
    elif(sat == "XW-2B"):
        var[0] = (True);
        var[1] = ( "XW-2B");
        var[2] = ( "1 40911U 15049N   19044.37905010  .00000412  00000-0  25180-4 0  9994");
        var[3] = ( "2 40911  97.4661  48.8604 0012546 273.2495 194.3471 15.15612774187925");
    elif(sat == "IO-86"):
        var[0] = (True);
        var[1] = ( "IO-86");
        var[2] = ( "1 40931U 15052B   19043.98841653  .00000664  00000-0  34826-5 0  9995");
        var[3] = ( "2 40931   5.9990 233.0209 0012631 174.6314 185.4114 14.76597610182651");
    elif(sat == "AO-91"):
        var[0] = (True);
        var[1] = ( "AO-91");
        var[2] = ( "1 43017U 17073E   19044.32429207  .00000304  00000-0  29580-4 0  9995");
        var[3] = ( "2 43017  97.7214 330.6125 0258040 206.3337 152.4568 14.78388814 66735");
    elif(sat == "AO-92"):
        var[0] = (True);
        var[1] = ( "AO-92");
        var[2] = ( "1 43137U 18004AC  19043.90263278 +.00000840 +00000-0 +38534-4 0  9994");
        var[3] = ( "2 43137 097.5036 111.9065 0008845 347.5952 012.5065 15.23190646060353");
    else:
        var[0] = (False);
        var[1] = ("");
        var[2] = ("");
        var[3] = ("");
        
def printSatNames():
    print("AO-07");
    print("FO-29");
    print("ISS");
    print("SO-50");
    print("CO-55");
    print("RS-22");
    print("CO-58");
    print("CO-65");
    print("COMPASS1");
    print("DO-64");
    print("RS-30");
    print("KKS-1");
    print("AO-71");
    print("AO-73");
    print("UKUBE1");
    print("XW-2A");
    print("XW-2C");
    print("XW-2D");
    print("XW-2F");
    print("XW-2B");
    print("IO-86");
    print("AO-91");
    print("AO-92");

   
var = [False, "", "", ""];

while var[0] == False:
    satName = input("What Bird are we tracking? (list for satellite list)");
    
    if(satName.lower() == "list"):
        printSatNames();

    tleSelector(satName, var);

print(f'Sounds good!  Tracking {var[1]}!');

name = var[1];
line1 = var[2];
line2 = var[3];

while True:

    tle_rec = ephem.readtle(name, line1, line2);
    tle_rec.compute();

    lat = dms2dd(str(tle_rec.sublat));
    lon = dms2dd(str(tle_rec.sublong));

    print(f'{name} is now at {lat}, {lon}');
    time.sleep(5);